{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _regeneratorRuntime = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _get = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get\");\n\nvar _getPrototypeOf = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createClass;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classPrivateFieldLooseBase2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n\nvar _classPrivateFieldLooseKey2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"@polkadot/util\");\n\nvar _util2 = require(\"../util\");\n\nvar _Result = _interopRequireDefault(require(\"./Result\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar identity = function identity(input) {\n  return input;\n};\n\nfunction createClass(_ref) {\n  var api = _ref.api,\n      apiType = _ref.apiType,\n      decorateMethod = _ref.decorateMethod;\n\n  var _ignoreStatusCb, _transformResult, _makeEraOptions, _makeSignOptions, _makeSignAndSendOptions, _observeSign, _observeStatus, _observeSend, _observeSubscribe, _optionsOrNonce, _signViaSigner, _updateSigner, _temp; // an instance of the base extrinsic for us to extend\n\n\n  var ExtrinsicBase = api.registry.createClass('Extrinsic');\n  return _temp = (_ignoreStatusCb = (0, _classPrivateFieldLooseKey2.default)(\"ignoreStatusCb\"), _transformResult = (0, _classPrivateFieldLooseKey2.default)(\"transformResult\"), _makeEraOptions = (0, _classPrivateFieldLooseKey2.default)(\"makeEraOptions\"), _makeSignOptions = (0, _classPrivateFieldLooseKey2.default)(\"makeSignOptions\"), _makeSignAndSendOptions = (0, _classPrivateFieldLooseKey2.default)(\"makeSignAndSendOptions\"), _observeSign = (0, _classPrivateFieldLooseKey2.default)(\"observeSign\"), _observeStatus = (0, _classPrivateFieldLooseKey2.default)(\"observeStatus\"), _observeSend = (0, _classPrivateFieldLooseKey2.default)(\"observeSend\"), _observeSubscribe = (0, _classPrivateFieldLooseKey2.default)(\"observeSubscribe\"), _optionsOrNonce = (0, _classPrivateFieldLooseKey2.default)(\"optionsOrNonce\"), _signViaSigner = (0, _classPrivateFieldLooseKey2.default)(\"signViaSigner\"), _updateSigner = (0, _classPrivateFieldLooseKey2.default)(\"updateSigner\"), /*#__PURE__*/function (_ExtrinsicBase) {\n    _inherits(Submittable, _ExtrinsicBase);\n\n    var _super = _createSuper(Submittable);\n\n    function Submittable(registry, extrinsic) {\n      var _thisSuper, _this;\n\n      _classCallCheck(this, Submittable);\n\n      _this = _super.call(this, registry, extrinsic, {\n        version: api.extrinsicType\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _ignoreStatusCb, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _transformResult, {\n        writable: true,\n        value: identity\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _makeEraOptions, {\n        writable: true,\n        value: function value(options, _ref2) {\n          var header = _ref2.header,\n              mortalLength = _ref2.mortalLength,\n              nonce = _ref2.nonce;\n\n          if (!header) {\n            if ((0, _util.isNumber)(options.era)) {\n              // since we have no header, it is immortal, remove any option overrides\n              // so we only supply the genesisHash and no era to the construction\n              delete options.era;\n              delete options.blockHash;\n            }\n\n            return (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _makeSignOptions)[_makeSignOptions](options, {\n              nonce: nonce\n            });\n          }\n\n          return (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _makeSignOptions)[_makeSignOptions](options, {\n            blockHash: header.hash,\n            era: _this.registry.createType('ExtrinsicEra', {\n              current: header.number,\n              period: options.era || mortalLength\n            }),\n            nonce: nonce\n          });\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _makeSignOptions, {\n        writable: true,\n        value: function value(options, extras) {\n          return _objectSpread(_objectSpread(_objectSpread({\n            blockHash: api.genesisHash,\n            genesisHash: api.genesisHash\n          }, options), extras), {}, {\n            runtimeVersion: api.runtimeVersion,\n            signedExtensions: api.registry.signedExtensions,\n            version: api.extrinsicType\n          });\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _makeSignAndSendOptions, {\n        writable: true,\n        value: function value(optionsOrStatus, statusCb) {\n          var options = {};\n\n          if ((0, _util.isFunction)(optionsOrStatus)) {\n            statusCb = optionsOrStatus;\n          } else {\n            options = _objectSpread({}, optionsOrStatus);\n          }\n\n          return [options, statusCb];\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _observeSign, {\n        writable: true,\n        value: function value(account, optionsOrNonce) {\n          var address = (0, _util2.isKeyringPair)(account) ? account.address : account.toString();\n\n          var options = (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _optionsOrNonce)[_optionsOrNonce](optionsOrNonce);\n\n          var updateId;\n          return api.derive.tx.signingInfo(address, options.nonce, options.era).pipe((0, _operators.first)(), (0, _operators.mergeMap)( /*#__PURE__*/function () {\n            var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(signingInfo) {\n              var eraOptions;\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      eraOptions = (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _makeEraOptions)[_makeEraOptions](options, signingInfo);\n\n                      if (!(0, _util2.isKeyringPair)(account)) {\n                        _context.next = 5;\n                        break;\n                      }\n\n                      _this.sign(account, eraOptions);\n\n                      _context.next = 8;\n                      break;\n\n                    case 5:\n                      _context.next = 7;\n                      return (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _signViaSigner)[_signViaSigner](address, eraOptions, signingInfo.header);\n\n                    case 7:\n                      updateId = _context.sent;\n\n                    case 8:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n\n            return function (_x) {\n              return _ref3.apply(this, arguments);\n            };\n          }()), (0, _operators.mapTo)(updateId));\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _observeStatus, {\n        writable: true,\n        value: function value(hash, status) {\n          if (!status.isFinalized && !status.isInBlock) {\n            return (0, _rxjs.of)((0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _transformResult)[_transformResult](new _Result.default({\n              status: status\n            })));\n          }\n\n          var blockHash = status.isInBlock ? status.asInBlock : status.asFinalized;\n          return api.derive.tx.events(blockHash).pipe((0, _operators.map)(function (_ref4) {\n            var block = _ref4.block,\n                events = _ref4.events;\n            return (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _transformResult)[_transformResult](new _Result.default({\n              events: (0, _util2.filterEvents)(hash, block, events, status),\n              status: status\n            }));\n          }));\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _observeSend, {\n        writable: true,\n        value: function value() {\n          var updateId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n          return api.rpc.author.submitExtrinsic(_assertThisInitialized(_this)).pipe((0, _operators.tap)(function (hash) {\n            (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _updateSigner)[_updateSigner](updateId, hash);\n          }));\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _observeSubscribe, {\n        writable: true,\n        value: function value() {\n          var updateId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n          var hash = _this.hash;\n          return api.rpc.author.submitAndWatchExtrinsic(_assertThisInitialized(_this)).pipe((0, _operators.switchMap)(function (status) {\n            return (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _observeStatus)[_observeStatus](hash, status);\n          }), (0, _operators.tap)(function (status) {\n            (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _updateSigner)[_updateSigner](updateId, status);\n          }));\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _optionsOrNonce, {\n        writable: true,\n        value: function value() {\n          var optionsOrNonce = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          return (0, _util.isBn)(optionsOrNonce) || (0, _util.isNumber)(optionsOrNonce) ? {\n            nonce: optionsOrNonce\n          } : optionsOrNonce;\n        }\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _signViaSigner, {\n        writable: true,\n        value: function () {\n          var _value = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(address, options, header) {\n            var signer, payload, result;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    signer = options.signer || api.signer;\n                    (0, _util.assert)(signer, 'No signer specified, either via api.setSigner or via sign options. You possibly need to pass through an explicit keypair for the origin so it can be used for signing.');\n                    payload = _this.registry.createType('SignerPayload', _objectSpread(_objectSpread({}, options), {}, {\n                      address: address,\n                      blockNumber: header ? header.number : 0,\n                      method: _this.method\n                    }));\n\n                    if (!signer.signPayload) {\n                      _context2.next = 9;\n                      break;\n                    }\n\n                    _context2.next = 6;\n                    return signer.signPayload(payload.toPayload());\n\n                  case 6:\n                    result = _context2.sent;\n                    _context2.next = 16;\n                    break;\n\n                  case 9:\n                    if (!signer.signRaw) {\n                      _context2.next = 15;\n                      break;\n                    }\n\n                    _context2.next = 12;\n                    return signer.signRaw(payload.toRaw());\n\n                  case 12:\n                    result = _context2.sent;\n                    _context2.next = 16;\n                    break;\n\n                  case 15:\n                    throw new Error('Invalid signer interface, it should implement either signPayload or signRaw (or both)');\n\n                  case 16:\n                    // Here we explicitly call `toPayload()` again instead of working with an object\n                    // (reference) as passed to the signer. This means that we are sure that the\n                    // payload data is not modified from our inputs, but the signer\n                    _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(Submittable.prototype)), \"addSignature\", _thisSuper).call(_thisSuper, address, result.signature, payload.toPayload());\n\n                    return _context2.abrupt(\"return\", result.id);\n\n                  case 18:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          function value(_x2, _x3, _x4) {\n            return _value.apply(this, arguments);\n          }\n\n          return value;\n        }()\n      });\n      Object.defineProperty(_assertThisInitialized(_this), _updateSigner, {\n        writable: true,\n        value: function value(updateId, status) {\n          if (updateId !== -1 && api.signer && api.signer.update) {\n            api.signer.update(updateId, status);\n          }\n        }\n      });\n      (0, _classPrivateFieldLooseBase2.default)(_assertThisInitialized(_this), _ignoreStatusCb)[_ignoreStatusCb] = apiType === 'rxjs';\n      return _this;\n    } // adds a transform to the result, applied before result is returned\n\n\n    _createClass(Submittable, [{\n      key: \"withResultTransform\",\n      value: function withResultTransform(transform) {\n        (0, _classPrivateFieldLooseBase2.default)(this, _transformResult)[_transformResult] = transform;\n        return this;\n      } // calculate the payment info for this transaction (if signed and submitted)\n\n    }, {\n      key: \"paymentInfo\",\n      value: function paymentInfo(account, optionsOrHash) {\n        var _this2 = this;\n\n        if ((0, _util.isString)(optionsOrHash) || (0, _util.isU8a)(optionsOrHash)) {\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n          return decorateMethod(function () {\n            return api.rpc.payment.queryInfo(_this2.toHex(), optionsOrHash);\n          });\n        }\n\n        var _makeSignAndSendOptio = (0, _classPrivateFieldLooseBase2.default)(this, _makeSignAndSendOptions)[_makeSignAndSendOptions](optionsOrHash),\n            _makeSignAndSendOptio2 = _slicedToArray(_makeSignAndSendOptio, 1),\n            allOptions = _makeSignAndSendOptio2[0];\n\n        var address = (0, _util2.isKeyringPair)(account) ? account.address : account.toString(); // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n\n        return decorateMethod(function () {\n          return api.derive.tx.signingInfo(address, allOptions.nonce, allOptions.era).pipe((0, _operators.first)(), (0, _operators.switchMap)(function (signingInfo) {\n            // setup our options (same way as in signAndSend)\n            var eraOptions = (0, _classPrivateFieldLooseBase2.default)(_this2, _makeEraOptions)[_makeEraOptions](allOptions, signingInfo);\n\n            var signOptions = (0, _classPrivateFieldLooseBase2.default)(_this2, _makeSignOptions)[_makeSignOptions](eraOptions, {}); // add a fake signature to the extrinsic\n\n\n            _this2.signFake(address, signOptions);\n\n            return api.rpc.payment.queryInfo(_this2.toHex());\n          }));\n        })();\n      }\n      /**\n       * @description Sign a transaction, returning the this to allow chaining, i.e. .sign(...).send(). When options, e.g. nonce/blockHash are not specified, it will be inferred. To retrieve eg. nonce use `signAsync` (the preferred interface, this is provided for backwards compatibility)\n       * @deprecated\n       */\n\n    }, {\n      key: \"sign\",\n      value: function sign(account, optionsOrNonce) {\n        _get(_getPrototypeOf(Submittable.prototype), \"sign\", this).call(this, account, (0, _classPrivateFieldLooseBase2.default)(this, _makeSignOptions)[_makeSignOptions]((0, _classPrivateFieldLooseBase2.default)(this, _optionsOrNonce)[_optionsOrNonce](optionsOrNonce), {}));\n\n        return this;\n      }\n      /**\n       * @description Signs a transaction, returning `this` to allow chaining. E.g.: `sign(...).send()`. Like `.signAndSend` this will retrieve the nonce and blockHash to send the tx with.\n       */\n\n    }, {\n      key: \"signAsync\",\n      value: function signAsync(account, optionsOrNonce) {\n        var _this3 = this;\n\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n        return decorateMethod(function () {\n          return (0, _classPrivateFieldLooseBase2.default)(_this3, _observeSign)[_observeSign](account, optionsOrNonce).pipe((0, _operators.mapTo)(_this3));\n        })();\n      } // signAndSend with an immediate Hash result\n      // signAndSend implementation for all 3 cases above\n\n    }, {\n      key: \"signAndSend\",\n      value: function signAndSend(account, optionsOrStatus, optionalStatusCb) {\n        var _this4 = this;\n\n        var _makeSignAndSendOptio3 = (0, _classPrivateFieldLooseBase2.default)(this, _makeSignAndSendOptions)[_makeSignAndSendOptions](optionsOrStatus, optionalStatusCb),\n            _makeSignAndSendOptio4 = _slicedToArray(_makeSignAndSendOptio3, 2),\n            options = _makeSignAndSendOptio4[0],\n            statusCb = _makeSignAndSendOptio4[1];\n\n        var isSubscription = api.hasSubscriptions && ((0, _classPrivateFieldLooseBase2.default)(this, _ignoreStatusCb)[_ignoreStatusCb] || !!statusCb); // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n\n        return decorateMethod(function () {\n          return (0, _classPrivateFieldLooseBase2.default)(_this4, _observeSign)[_observeSign](account, options).pipe((0, _operators.switchMap)(function (updateId) {\n            return isSubscription ? (0, _classPrivateFieldLooseBase2.default)(_this4, _observeSubscribe)[_observeSubscribe](updateId) : (0, _classPrivateFieldLooseBase2.default)(_this4, _observeSend)[_observeSend](updateId);\n          }));\n        } // FIXME This is wrong, SubmittableResult is _not_ a codec\n        )(statusCb);\n      } // send with an immediate Hash result\n      // send implementation for both immediate Hash and statusCb variants\n\n    }, {\n      key: \"send\",\n      value: function send(statusCb) {\n        var isSubscription = api.hasSubscriptions && ((0, _classPrivateFieldLooseBase2.default)(this, _ignoreStatusCb)[_ignoreStatusCb] || !!statusCb); // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n\n        return decorateMethod(isSubscription ? (0, _classPrivateFieldLooseBase2.default)(this, _observeSubscribe)[_observeSubscribe] : (0, _classPrivateFieldLooseBase2.default)(this, _observeSend)[_observeSend])(statusCb);\n      }\n    }]);\n\n    return Submittable;\n  }(ExtrinsicBase)), _temp;\n}","map":{"version":3,"sources":["/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/@polkadot/api/submittable/createClass.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","createClass","_defineProperty2","_classPrivateFieldLooseBase2","_classPrivateFieldLooseKey2","_rxjs","_operators","_util","_util2","_Result","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","identity","input","api","apiType","decorateMethod","_ignoreStatusCb","_transformResult","_makeEraOptions","_makeSignOptions","_makeSignAndSendOptions","_observeSign","_observeStatus","_observeSend","_observeSubscribe","_optionsOrNonce","_signViaSigner","_updateSigner","_temp","ExtrinsicBase","registry","extrinsic","version","extrinsicType","writable","options","header","mortalLength","nonce","isNumber","era","blockHash","hash","createType","current","number","period","extras","genesisHash","runtimeVersion","signedExtensions","optionsOrStatus","statusCb","isFunction","account","optionsOrNonce","address","isKeyringPair","toString","updateId","derive","tx","signingInfo","pipe","first","mergeMap","eraOptions","sign","mapTo","status","isFinalized","isInBlock","of","asInBlock","asFinalized","events","map","block","filterEvents","rpc","author","submitExtrinsic","tap","submitAndWatchExtrinsic","switchMap","isBn","signer","assert","payload","blockNumber","method","signPayload","toPayload","result","signRaw","toRaw","Error","signature","id","update","transform","optionsOrHash","isString","isU8a","payment","queryInfo","toHex","allOptions","signOptions","signFake","optionalStatusCb","isSubscription","hasSubscriptions"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createClass;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classPrivateFieldLooseBase2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n\nvar _classPrivateFieldLooseKey2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"@polkadot/util\");\n\nvar _util2 = require(\"../util\");\n\nvar _Result = _interopRequireDefault(require(\"./Result\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nconst identity = input => input;\n\nfunction createClass({\n  api,\n  apiType,\n  decorateMethod\n}) {\n  var _ignoreStatusCb, _transformResult, _makeEraOptions, _makeSignOptions, _makeSignAndSendOptions, _observeSign, _observeStatus, _observeSend, _observeSubscribe, _optionsOrNonce, _signViaSigner, _updateSigner, _temp;\n\n  // an instance of the base extrinsic for us to extend\n  const ExtrinsicBase = api.registry.createClass('Extrinsic');\n  return _temp = (_ignoreStatusCb = (0, _classPrivateFieldLooseKey2.default)(\"ignoreStatusCb\"), _transformResult = (0, _classPrivateFieldLooseKey2.default)(\"transformResult\"), _makeEraOptions = (0, _classPrivateFieldLooseKey2.default)(\"makeEraOptions\"), _makeSignOptions = (0, _classPrivateFieldLooseKey2.default)(\"makeSignOptions\"), _makeSignAndSendOptions = (0, _classPrivateFieldLooseKey2.default)(\"makeSignAndSendOptions\"), _observeSign = (0, _classPrivateFieldLooseKey2.default)(\"observeSign\"), _observeStatus = (0, _classPrivateFieldLooseKey2.default)(\"observeStatus\"), _observeSend = (0, _classPrivateFieldLooseKey2.default)(\"observeSend\"), _observeSubscribe = (0, _classPrivateFieldLooseKey2.default)(\"observeSubscribe\"), _optionsOrNonce = (0, _classPrivateFieldLooseKey2.default)(\"optionsOrNonce\"), _signViaSigner = (0, _classPrivateFieldLooseKey2.default)(\"signViaSigner\"), _updateSigner = (0, _classPrivateFieldLooseKey2.default)(\"updateSigner\"), class Submittable extends ExtrinsicBase {\n    constructor(registry, extrinsic) {\n      super(registry, extrinsic, {\n        version: api.extrinsicType\n      });\n      Object.defineProperty(this, _ignoreStatusCb, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(this, _transformResult, {\n        writable: true,\n        value: identity\n      });\n      Object.defineProperty(this, _makeEraOptions, {\n        writable: true,\n        value: (options, {\n          header,\n          mortalLength,\n          nonce\n        }) => {\n          if (!header) {\n            if ((0, _util.isNumber)(options.era)) {\n              // since we have no header, it is immortal, remove any option overrides\n              // so we only supply the genesisHash and no era to the construction\n              delete options.era;\n              delete options.blockHash;\n            }\n\n            return (0, _classPrivateFieldLooseBase2.default)(this, _makeSignOptions)[_makeSignOptions](options, {\n              nonce\n            });\n          }\n\n          return (0, _classPrivateFieldLooseBase2.default)(this, _makeSignOptions)[_makeSignOptions](options, {\n            blockHash: header.hash,\n            era: this.registry.createType('ExtrinsicEra', {\n              current: header.number,\n              period: options.era || mortalLength\n            }),\n            nonce\n          });\n        }\n      });\n      Object.defineProperty(this, _makeSignOptions, {\n        writable: true,\n        value: (options, extras) => {\n          return _objectSpread(_objectSpread(_objectSpread({\n            blockHash: api.genesisHash,\n            genesisHash: api.genesisHash\n          }, options), extras), {}, {\n            runtimeVersion: api.runtimeVersion,\n            signedExtensions: api.registry.signedExtensions,\n            version: api.extrinsicType\n          });\n        }\n      });\n      Object.defineProperty(this, _makeSignAndSendOptions, {\n        writable: true,\n        value: (optionsOrStatus, statusCb) => {\n          let options = {};\n\n          if ((0, _util.isFunction)(optionsOrStatus)) {\n            statusCb = optionsOrStatus;\n          } else {\n            options = _objectSpread({}, optionsOrStatus);\n          }\n\n          return [options, statusCb];\n        }\n      });\n      Object.defineProperty(this, _observeSign, {\n        writable: true,\n        value: (account, optionsOrNonce) => {\n          const address = (0, _util2.isKeyringPair)(account) ? account.address : account.toString();\n\n          const options = (0, _classPrivateFieldLooseBase2.default)(this, _optionsOrNonce)[_optionsOrNonce](optionsOrNonce);\n\n          let updateId;\n          return api.derive.tx.signingInfo(address, options.nonce, options.era).pipe((0, _operators.first)(), (0, _operators.mergeMap)(async signingInfo => {\n            const eraOptions = (0, _classPrivateFieldLooseBase2.default)(this, _makeEraOptions)[_makeEraOptions](options, signingInfo);\n\n            if ((0, _util2.isKeyringPair)(account)) {\n              this.sign(account, eraOptions);\n            } else {\n              updateId = await (0, _classPrivateFieldLooseBase2.default)(this, _signViaSigner)[_signViaSigner](address, eraOptions, signingInfo.header);\n            }\n          }), (0, _operators.mapTo)(updateId));\n        }\n      });\n      Object.defineProperty(this, _observeStatus, {\n        writable: true,\n        value: (hash, status) => {\n          if (!status.isFinalized && !status.isInBlock) {\n            return (0, _rxjs.of)((0, _classPrivateFieldLooseBase2.default)(this, _transformResult)[_transformResult](new _Result.default({\n              status\n            })));\n          }\n\n          const blockHash = status.isInBlock ? status.asInBlock : status.asFinalized;\n          return api.derive.tx.events(blockHash).pipe((0, _operators.map)(({\n            block,\n            events\n          }) => (0, _classPrivateFieldLooseBase2.default)(this, _transformResult)[_transformResult](new _Result.default({\n            events: (0, _util2.filterEvents)(hash, block, events, status),\n            status\n          }))));\n        }\n      });\n      Object.defineProperty(this, _observeSend, {\n        writable: true,\n        value: (updateId = -1) => {\n          return api.rpc.author.submitExtrinsic(this).pipe((0, _operators.tap)(hash => {\n            (0, _classPrivateFieldLooseBase2.default)(this, _updateSigner)[_updateSigner](updateId, hash);\n          }));\n        }\n      });\n      Object.defineProperty(this, _observeSubscribe, {\n        writable: true,\n        value: (updateId = -1) => {\n          const hash = this.hash;\n          return api.rpc.author.submitAndWatchExtrinsic(this).pipe((0, _operators.switchMap)(status => (0, _classPrivateFieldLooseBase2.default)(this, _observeStatus)[_observeStatus](hash, status)), (0, _operators.tap)(status => {\n            (0, _classPrivateFieldLooseBase2.default)(this, _updateSigner)[_updateSigner](updateId, status);\n          }));\n        }\n      });\n      Object.defineProperty(this, _optionsOrNonce, {\n        writable: true,\n        value: (optionsOrNonce = {}) => {\n          return (0, _util.isBn)(optionsOrNonce) || (0, _util.isNumber)(optionsOrNonce) ? {\n            nonce: optionsOrNonce\n          } : optionsOrNonce;\n        }\n      });\n      Object.defineProperty(this, _signViaSigner, {\n        writable: true,\n        value: async (address, options, header) => {\n          const signer = options.signer || api.signer;\n          (0, _util.assert)(signer, 'No signer specified, either via api.setSigner or via sign options. You possibly need to pass through an explicit keypair for the origin so it can be used for signing.');\n          const payload = this.registry.createType('SignerPayload', _objectSpread(_objectSpread({}, options), {}, {\n            address,\n            blockNumber: header ? header.number : 0,\n            method: this.method\n          }));\n          let result;\n\n          if (signer.signPayload) {\n            result = await signer.signPayload(payload.toPayload());\n          } else if (signer.signRaw) {\n            result = await signer.signRaw(payload.toRaw());\n          } else {\n            throw new Error('Invalid signer interface, it should implement either signPayload or signRaw (or both)');\n          } // Here we explicitly call `toPayload()` again instead of working with an object\n          // (reference) as passed to the signer. This means that we are sure that the\n          // payload data is not modified from our inputs, but the signer\n\n\n          super.addSignature(address, result.signature, payload.toPayload());\n          return result.id;\n        }\n      });\n      Object.defineProperty(this, _updateSigner, {\n        writable: true,\n        value: (updateId, status) => {\n          if (updateId !== -1 && api.signer && api.signer.update) {\n            api.signer.update(updateId, status);\n          }\n        }\n      });\n      (0, _classPrivateFieldLooseBase2.default)(this, _ignoreStatusCb)[_ignoreStatusCb] = apiType === 'rxjs';\n    } // adds a transform to the result, applied before result is returned\n\n\n    withResultTransform(transform) {\n      (0, _classPrivateFieldLooseBase2.default)(this, _transformResult)[_transformResult] = transform;\n      return this;\n    } // calculate the payment info for this transaction (if signed and submitted)\n\n\n    paymentInfo(account, optionsOrHash) {\n      if ((0, _util.isString)(optionsOrHash) || (0, _util.isU8a)(optionsOrHash)) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return decorateMethod(() => api.rpc.payment.queryInfo(this.toHex(), optionsOrHash));\n      }\n\n      const [allOptions] = (0, _classPrivateFieldLooseBase2.default)(this, _makeSignAndSendOptions)[_makeSignAndSendOptions](optionsOrHash);\n\n      const address = (0, _util2.isKeyringPair)(account) ? account.address : account.toString(); // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n\n      return decorateMethod(() => api.derive.tx.signingInfo(address, allOptions.nonce, allOptions.era).pipe((0, _operators.first)(), (0, _operators.switchMap)(signingInfo => {\n        // setup our options (same way as in signAndSend)\n        const eraOptions = (0, _classPrivateFieldLooseBase2.default)(this, _makeEraOptions)[_makeEraOptions](allOptions, signingInfo);\n\n        const signOptions = (0, _classPrivateFieldLooseBase2.default)(this, _makeSignOptions)[_makeSignOptions](eraOptions, {}); // add a fake signature to the extrinsic\n\n\n        this.signFake(address, signOptions);\n        return api.rpc.payment.queryInfo(this.toHex());\n      })))();\n    }\n    /**\n     * @description Sign a transaction, returning the this to allow chaining, i.e. .sign(...).send(). When options, e.g. nonce/blockHash are not specified, it will be inferred. To retrieve eg. nonce use `signAsync` (the preferred interface, this is provided for backwards compatibility)\n     * @deprecated\n     */\n\n\n    sign(account, optionsOrNonce) {\n      super.sign(account, (0, _classPrivateFieldLooseBase2.default)(this, _makeSignOptions)[_makeSignOptions]((0, _classPrivateFieldLooseBase2.default)(this, _optionsOrNonce)[_optionsOrNonce](optionsOrNonce), {}));\n      return this;\n    }\n    /**\n     * @description Signs a transaction, returning `this` to allow chaining. E.g.: `sign(...).send()`. Like `.signAndSend` this will retrieve the nonce and blockHash to send the tx with.\n     */\n\n\n    signAsync(account, optionsOrNonce) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n      return decorateMethod(() => (0, _classPrivateFieldLooseBase2.default)(this, _observeSign)[_observeSign](account, optionsOrNonce).pipe((0, _operators.mapTo)(this)))();\n    } // signAndSend with an immediate Hash result\n\n\n    // signAndSend implementation for all 3 cases above\n    signAndSend(account, optionsOrStatus, optionalStatusCb) {\n      const [options, statusCb] = (0, _classPrivateFieldLooseBase2.default)(this, _makeSignAndSendOptions)[_makeSignAndSendOptions](optionsOrStatus, optionalStatusCb);\n\n      const isSubscription = api.hasSubscriptions && ((0, _classPrivateFieldLooseBase2.default)(this, _ignoreStatusCb)[_ignoreStatusCb] || !!statusCb); // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n\n      return decorateMethod(() => (0, _classPrivateFieldLooseBase2.default)(this, _observeSign)[_observeSign](account, options).pipe((0, _operators.switchMap)(updateId => isSubscription ? (0, _classPrivateFieldLooseBase2.default)(this, _observeSubscribe)[_observeSubscribe](updateId) : (0, _classPrivateFieldLooseBase2.default)(this, _observeSend)[_observeSend](updateId))) // FIXME This is wrong, SubmittableResult is _not_ a codec\n      )(statusCb);\n    } // send with an immediate Hash result\n\n\n    // send implementation for both immediate Hash and statusCb variants\n    send(statusCb) {\n      const isSubscription = api.hasSubscriptions && ((0, _classPrivateFieldLooseBase2.default)(this, _ignoreStatusCb)[_ignoreStatusCb] || !!statusCb); // eslint-disable-next-line @typescript-eslint/no-unsafe-return,@typescript-eslint/no-unsafe-call\n\n      return decorateMethod(isSubscription ? (0, _classPrivateFieldLooseBase2.default)(this, _observeSubscribe)[_observeSubscribe] : (0, _classPrivateFieldLooseBase2.default)(this, _observeSend)[_observeSend])(statusCb);\n    }\n\n  }), _temp;\n}"]},"metadata":{},"sourceType":"script"}