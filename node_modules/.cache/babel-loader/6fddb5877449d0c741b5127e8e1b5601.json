{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Form,Table}from'semantic-ui-react';import{useSubstrate}from'./substrate-lib';function Main(props){var _useSubstrate=useSubstrate(),api=_useSubstrate.api;var _useState=useState(),_useState2=_slicedToArray(_useState,2),blockNumber=_useState2[0],setBlockNumber=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),block=_useState4[0],setBlock=_useState4[1];var searchBlock=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(blockNumber){var blockHash,header;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.rpc.chain.getBlockHash(blockNumber);case 3:blockHash=_context.sent;_context.next=6;return api.rpc.chain.getHeader(blockHash);case 6:header=_context.sent;setBlock(header);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function searchBlock(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,_ref2){var value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:value=_ref2.value;_context2.next=3;return searchBlock(blockNumber);case 3:return _context2.abrupt(\"return\",_context2.sent);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}()},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Input,{placeholder:\"Block Number...\",onChange:/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e,_ref4){var value;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:value=_ref4.value;return _context3.abrupt(\"return\",setBlockNumber(value));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4,_x5){return _ref5.apply(this,arguments);};}()}),/*#__PURE__*/React.createElement(Form.Button,null,\" Search for Block\"))),block&&/*#__PURE__*/React.createElement(Table,{celled:true},/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.Cell,null,\" Block Number \"),/*#__PURE__*/React.createElement(Table.Cell,null,block.number.toNumber())),/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.Cell,null,\" Block Hash \"),/*#__PURE__*/React.createElement(Table.Cell,null,\" \",block.hash.toHuman())),/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.Cell,null,\" Parent Hash \"),/*#__PURE__*/React.createElement(Table.Cell,null,\" \",block.parentHash.toHuman())),/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.Cell,null,\" Extrinsic Root \"),/*#__PURE__*/React.createElement(Table.Cell,null,\" \",block.extrinsicsRoot.toHuman())),/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.Cell,null,\" State Root \"),/*#__PURE__*/React.createElement(Table.Cell,null,\" \",block.stateRoot.toHuman()))));}export default function BlockSearchInfo(props){var _useSubstrate2=useSubstrate(),api=_useSubstrate2.api;return api.rpc&&api.rpc.chain?/*#__PURE__*/React.createElement(Main,props):null;}","map":{"version":3,"sources":["/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project/substrate-node-template/substrate-front-end-template/src/BlockSearch.js"],"names":["React","useState","Form","Table","useSubstrate","Main","props","api","blockNumber","setBlockNumber","block","setBlock","searchBlock","rpc","chain","getBlockHash","blockHash","getHeader","header","console","error","e","value","number","toNumber","hash","toHuman","parentHash","extrinsicsRoot","stateRoot","BlockSearchInfo"],"mappings":"ovBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,KAAf,KAA4B,mBAA5B,CAEA,OAASC,YAAT,KAA6B,iBAA7B,CAEA,QAASC,CAAAA,IAAT,CAAeC,KAAf,CAAsB,mBACFF,YAAY,EADV,CACVG,GADU,eACVA,GADU,eAGoBN,QAAQ,EAH5B,wCAGXO,WAHW,eAGEC,cAHF,8BAIQR,QAAQ,EAJhB,yCAIXS,KAJW,eAIJC,QAJI,eAMlB,GAAMC,CAAAA,WAAW,0FAAG,iBAAOJ,WAAP,6KAEYD,CAAAA,GAAG,CAACM,GAAJ,CAAQC,KAAR,CAAcC,YAAd,CAA2BP,WAA3B,CAFZ,QAENQ,SAFM,qCAIST,CAAAA,GAAG,CAACM,GAAJ,CAAQC,KAAR,CAAcG,SAAd,CAAwBD,SAAxB,CAJT,QAINE,MAJM,eAKZP,QAAQ,CAACO,MAAD,CAAR,CALY,iFAQZC,OAAO,CAACC,KAAR,cARY,qEAAH,kBAAXR,CAAAA,WAAW,4CAAjB,CAYA,mBACI,4CACI,oBAAC,IAAD,EAAM,QAAQ,2FAAI,kBAAOS,CAAP,sIAAYC,KAAZ,OAAYA,KAAZ,wBAA8BV,CAAAA,WAAW,CAACJ,WAAD,CAAzC,iHAAJ,oEAAd,eACI,oBAAC,IAAD,CAAM,KAAN,mBACI,oBAAC,IAAD,CAAM,KAAN,EAAY,WAAW,CAAC,iBAAxB,CAA0C,QAAQ,2FAAG,kBAAOa,CAAP,sIAAYC,KAAZ,OAAYA,KAAZ,kCAAwBb,cAAc,CAACa,KAAD,CAAtC,0DAAH,oEAAlD,EADJ,cAEI,oBAAC,IAAD,CAAM,MAAN,0BAFJ,CADJ,CADJ,CAOMZ,KAAK,eAAK,oBAAC,KAAD,EAAO,MAAM,KAAb,eACZ,oBAAC,KAAD,CAAO,GAAP,mBACQ,oBAAC,KAAD,CAAO,IAAP,uBADR,cAEQ,oBAAC,KAAD,CAAO,IAAP,MAAaA,KAAK,CAACa,MAAN,CAAaC,QAAb,EAAb,CAFR,CADY,cAKR,oBAAC,KAAD,CAAO,GAAP,mBACI,oBAAC,KAAD,CAAO,IAAP,qBADJ,cAEI,oBAAC,KAAD,CAAO,IAAP,UAAcd,KAAK,CAACe,IAAN,CAAWC,OAAX,EAAd,CAFJ,CALQ,cASR,oBAAC,KAAD,CAAO,GAAP,mBACI,oBAAC,KAAD,CAAO,IAAP,sBADJ,cAEI,oBAAC,KAAD,CAAO,IAAP,UAAchB,KAAK,CAACiB,UAAN,CAAiBD,OAAjB,EAAd,CAFJ,CATQ,cAaR,oBAAC,KAAD,CAAO,GAAP,mBACI,oBAAC,KAAD,CAAO,IAAP,yBADJ,cAEI,oBAAC,KAAD,CAAO,IAAP,UAAchB,KAAK,CAACkB,cAAN,CAAqBF,OAArB,EAAd,CAFJ,CAbQ,cAiBR,oBAAC,KAAD,CAAO,GAAP,mBACI,oBAAC,KAAD,CAAO,IAAP,qBADJ,cAEI,oBAAC,KAAD,CAAO,IAAP,UAAchB,KAAK,CAACmB,SAAN,CAAgBH,OAAhB,EAAd,CAFJ,CAjBQ,CAPhB,CADJ,CAgCH,CAGD,cAAe,SAASI,CAAAA,eAAT,CAAyBxB,KAAzB,CAA+B,oBAC7BF,YAAY,EADiB,CACpCG,GADoC,gBACpCA,GADoC,CAE1C,MAAOA,CAAAA,GAAG,CAACM,GAAJ,EACPN,GAAG,CAACM,GAAJ,CAAQC,KADD,cAEH,oBAAC,IAAD,CAAUR,KAAV,CAFG,CAGH,IAHJ,CAIH","sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Table } from 'semantic-ui-react';\r\n\r\nimport { useSubstrate } from './substrate-lib';\r\n\r\nfunction Main (props) {\r\n    const { api } = useSubstrate();\r\n\r\n    const [blockNumber, setBlockNumber] = useState();\r\n    const [block, setBlock] = useState();\r\n\r\n    const searchBlock = async (blockNumber) => {\r\n        try{\r\n            const blockHash = await api.rpc.chain.getBlockHash(blockNumber);\r\n            //console.log(blockHash.toHuman());\r\n            const header = await api.rpc.chain.getHeader(blockHash);\r\n            setBlock(header);\r\n        }\r\n        catch(error){\r\n            console.error(error);\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <div>\r\n            <Form onSubmit = {async (e, { value }) => await searchBlock(blockNumber)}>\r\n                <Form.Group>\r\n                    <Form.Input placeholder=\"Block Number...\" onChange= {async (e, { value }) => setBlockNumber(value)}/>\r\n                    <Form.Button > Search for Block</Form.Button>\r\n                </Form.Group>   \r\n            </Form>\r\n            { block &&( <Table celled>\r\n            <Table.Row>\r\n                    <Table.Cell> Block Number </Table.Cell>\r\n                    <Table.Cell>{block.number.toNumber()}</Table.Cell>\r\n                </Table.Row>\r\n                <Table.Row>\r\n                    <Table.Cell> Block Hash </Table.Cell>\r\n                    <Table.Cell> {block.hash.toHuman()}</Table.Cell>\r\n                </Table.Row>\r\n                <Table.Row>\r\n                    <Table.Cell> Parent Hash </Table.Cell>\r\n                    <Table.Cell> {block.parentHash.toHuman()}</Table.Cell>\r\n                </Table.Row>\r\n                <Table.Row>\r\n                    <Table.Cell> Extrinsic Root </Table.Cell>\r\n                    <Table.Cell> {block.extrinsicsRoot.toHuman()}</Table.Cell>\r\n                </Table.Row>\r\n                <Table.Row>\r\n                    <Table.Cell> State Root </Table.Cell>\r\n                    <Table.Cell> {block.stateRoot.toHuman()}</Table.Cell>\r\n                </Table.Row>\r\n            </Table>)}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default function BlockSearchInfo(props){\r\n    const{api} = useSubstrate();\r\n    return api.rpc &&\r\n    api.rpc.chain ? (\r\n        <Main {...props} />\r\n    ) : null;\r\n}"]},"metadata":{},"sourceType":"module"}