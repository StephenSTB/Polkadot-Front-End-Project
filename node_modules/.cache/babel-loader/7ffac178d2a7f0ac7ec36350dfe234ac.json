{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project1/substrate-node-template/substrate-front-end-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.info = info;\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\"); // Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nfunction createDerive(api, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _slicedToArray(_ref2[0], 3),\n      hasBabe = _ref2$[0],\n      epochDuration = _ref2$[1],\n      sessionsPerEra = _ref2$[2],\n      _ref2$2 = _ref2[1],\n      activeEra = _ref2$2.activeEra,\n      activeEraStart = _ref2$2.activeEraStart,\n      currentEra = _ref2$2.currentEra,\n      currentIndex = _ref2$2.currentIndex,\n      validatorCount = _ref2$2.validatorCount;\n\n  return {\n    activeEra: activeEra,\n    activeEraStart: activeEraStart,\n    currentEra: currentEra,\n    currentIndex: currentIndex,\n    eraLength: api.registry.createType('BlockNumber', sessionsPerEra.mul(epochDuration)),\n    isEpoch: hasBabe,\n    sessionLength: epochDuration,\n    sessionsPerEra: sessionsPerEra,\n    validatorCount: validatorCount\n  };\n}\n\nfunction queryAura(api) {\n  return api.derive.session.indexes().pipe((0, _operators.map)(function (indexes) {\n    var _api$consts$staking;\n\n    return createDerive(api, [[false, api.registry.createType('u64', 1), ((_api$consts$staking = api.consts.staking) === null || _api$consts$staking === void 0 ? void 0 : _api$consts$staking.sessionsPerEra) || api.registry.createType('SessionIndex', 1)], indexes]);\n  }));\n}\n\nfunction queryBabe(api) {\n  return api.derive.session.indexes().pipe((0, _operators.map)(function (indexes) {\n    return createDerive(api, [[true, api.consts.babe.epochDuration, api.consts.staking.sessionsPerEra], indexes]);\n  }));\n}\n/**\n * @description Retrieves all the session and era query and calculates specific values on it as the length of the session and eras\n */\n\n\nfunction info(instanceId, api) {\n  return (0, _util.memo)(instanceId, function () {\n    return api.consts.babe ? queryBabe(api) : queryAura(api);\n  });\n}","map":{"version":3,"sources":["/mnt/c/Users/PC/Documents/PolkadotHelloWorld/PolkadotHelloWorld/Front-End-Project1/substrate-node-template/substrate-front-end-template/node_modules/@polkadot/api-derive/session/info.js"],"names":["Object","defineProperty","exports","value","info","_operators","require","_util","createDerive","api","hasBabe","epochDuration","sessionsPerEra","activeEra","activeEraStart","currentEra","currentIndex","validatorCount","eraLength","registry","createType","mul","isEpoch","sessionLength","queryAura","derive","session","indexes","pipe","map","_api$consts$staking","consts","staking","queryBabe","babe","instanceId","memo"],"mappings":"AAAA;;;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,IAAR,GAAeA,IAAf;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAC,gBAAD,CAAxB;;AAEA,IAAIC,KAAK,GAAGD,OAAO,CAAC,SAAD,CAAnB,C,CAEA;AACA;;;AACA,SAASE,YAAT,CAAsBC,GAAtB,QAMI;AAAA;AAAA;AAAA,MANyBC,OAMzB;AAAA,MANkCC,aAMlC;AAAA,MANiDC,cAMjD;AAAA;AAAA,MALFC,SAKE,WALFA,SAKE;AAAA,MAJFC,cAIE,WAJFA,cAIE;AAAA,MAHFC,UAGE,WAHFA,UAGE;AAAA,MAFFC,YAEE,WAFFA,YAEE;AAAA,MADFC,cACE,WADFA,cACE;;AACF,SAAO;AACLJ,IAAAA,SAAS,EAATA,SADK;AAELC,IAAAA,cAAc,EAAdA,cAFK;AAGLC,IAAAA,UAAU,EAAVA,UAHK;AAILC,IAAAA,YAAY,EAAZA,YAJK;AAKLE,IAAAA,SAAS,EAAET,GAAG,CAACU,QAAJ,CAAaC,UAAb,CAAwB,aAAxB,EAAuCR,cAAc,CAACS,GAAf,CAAmBV,aAAnB,CAAvC,CALN;AAMLW,IAAAA,OAAO,EAAEZ,OANJ;AAOLa,IAAAA,aAAa,EAAEZ,aAPV;AAQLC,IAAAA,cAAc,EAAdA,cARK;AASLK,IAAAA,cAAc,EAAdA;AATK,GAAP;AAWD;;AAED,SAASO,SAAT,CAAmBf,GAAnB,EAAwB;AACtB,SAAOA,GAAG,CAACgB,MAAJ,CAAWC,OAAX,CAAmBC,OAAnB,GAA6BC,IAA7B,CAAkC,CAAC,GAAGvB,UAAU,CAACwB,GAAf,EAAoB,UAAAF,OAAO,EAAI;AACtE,QAAIG,mBAAJ;;AAEA,WAAOtB,YAAY,CAACC,GAAD,EAAM,CAAC,CAAC,KAAD,EAAQA,GAAG,CAACU,QAAJ,CAAaC,UAAb,CAAwB,KAAxB,EAA+B,CAA/B,CAAR,EAA2C,CAAC,CAACU,mBAAmB,GAAGrB,GAAG,CAACsB,MAAJ,CAAWC,OAAlC,MAA+C,IAA/C,IAAuDF,mBAAmB,KAAK,KAAK,CAApF,GAAwF,KAAK,CAA7F,GAAiGA,mBAAmB,CAAClB,cAAtH,KAAyIH,GAAG,CAACU,QAAJ,CAAaC,UAAb,CAAwB,cAAxB,EAAwC,CAAxC,CAApL,CAAD,EAAkOO,OAAlO,CAAN,CAAnB;AACD,GAJwC,CAAlC,CAAP;AAKD;;AAED,SAASM,SAAT,CAAmBxB,GAAnB,EAAwB;AACtB,SAAOA,GAAG,CAACgB,MAAJ,CAAWC,OAAX,CAAmBC,OAAnB,GAA6BC,IAA7B,CAAkC,CAAC,GAAGvB,UAAU,CAACwB,GAAf,EAAoB,UAAAF,OAAO;AAAA,WAAInB,YAAY,CAACC,GAAD,EAAM,CAAC,CAAC,IAAD,EAAOA,GAAG,CAACsB,MAAJ,CAAWG,IAAX,CAAgBvB,aAAvB,EAAsCF,GAAG,CAACsB,MAAJ,CAAWC,OAAX,CAAmBpB,cAAzD,CAAD,EAA2Ee,OAA3E,CAAN,CAAhB;AAAA,GAA3B,CAAlC,CAAP;AACD;AACD;AACA;AACA;;;AAGA,SAASvB,IAAT,CAAc+B,UAAd,EAA0B1B,GAA1B,EAA+B;AAC7B,SAAO,CAAC,GAAGF,KAAK,CAAC6B,IAAV,EAAgBD,UAAhB,EAA4B;AAAA,WAAM1B,GAAG,CAACsB,MAAJ,CAAWG,IAAX,GAAkBD,SAAS,CAACxB,GAAD,CAA3B,GAAmCe,SAAS,CAACf,GAAD,CAAlD;AAAA,GAA5B,CAAP;AACD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.info = info;\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\");\n\n// Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nfunction createDerive(api, [[hasBabe, epochDuration, sessionsPerEra], {\n  activeEra,\n  activeEraStart,\n  currentEra,\n  currentIndex,\n  validatorCount\n}]) {\n  return {\n    activeEra,\n    activeEraStart,\n    currentEra,\n    currentIndex,\n    eraLength: api.registry.createType('BlockNumber', sessionsPerEra.mul(epochDuration)),\n    isEpoch: hasBabe,\n    sessionLength: epochDuration,\n    sessionsPerEra,\n    validatorCount\n  };\n}\n\nfunction queryAura(api) {\n  return api.derive.session.indexes().pipe((0, _operators.map)(indexes => {\n    var _api$consts$staking;\n\n    return createDerive(api, [[false, api.registry.createType('u64', 1), ((_api$consts$staking = api.consts.staking) === null || _api$consts$staking === void 0 ? void 0 : _api$consts$staking.sessionsPerEra) || api.registry.createType('SessionIndex', 1)], indexes]);\n  }));\n}\n\nfunction queryBabe(api) {\n  return api.derive.session.indexes().pipe((0, _operators.map)(indexes => createDerive(api, [[true, api.consts.babe.epochDuration, api.consts.staking.sessionsPerEra], indexes])));\n}\n/**\n * @description Retrieves all the session and era query and calculates specific values on it as the length of the session and eras\n */\n\n\nfunction info(instanceId, api) {\n  return (0, _util.memo)(instanceId, () => api.consts.babe ? queryBabe(api) : queryAura(api));\n}"]},"metadata":{},"sourceType":"script"}